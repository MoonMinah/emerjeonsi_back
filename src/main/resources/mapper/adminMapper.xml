<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.kosa.emerjeonsiBack.mapper.AdminMapper">
    <!--  모든 전시 데이터를 가져오는 SELECT 쿼리  -->
    <select id="getExhibitionDataList" resultType="com.kosa.emerjeonsiBack.dto.ExhibitionData">
        SELECT exhibitionDataNo, imageUrl, title, cntcInsttNm, collectedDate, issuedDate, description, localId, url, viewCount, subDescription, spatialCoverage, eventSite, genre, duration, numberPages, tableOfContents, author, contactPoint, actor, contributor, audience, charge, period, eventPeriod
        FROM TB_Exhibitions_Data;
    </select>
    <!--  전시 데이터를 삽입하는 INSERT 쿼리  -->
    <insert id="saveExhibitions">
        INSERT INTO TB_Exhibitions_Master (title, cntcInsttNm, issuedDate, description, imageUrl, viewCount, eventSite,
        contactPoint, startPeriod, endPeriod, adultPrice, infantPrice, seniorPrice, exhibitionStatus)
        VALUES
        <foreach collection="list" item="exhibition" separator=",">
            (#{exhibition.title}, #{exhibition.cntcInsttNm}, #{exhibition.issuedDate}, #{exhibition.description}, #{exhibition.imageUrl},
            #{exhibition.viewCount}, #{exhibition.eventSite}, #{exhibition.contactPoint}, #{exhibition.startPeriod}, #{exhibition.endPeriod},
            #{exhibition.adultPrice}, #{exhibition.infantPrice}, #{exhibition.seniorPrice}, #{exhibition.exhibitionStatus})
        </foreach>
    </insert>

</mapper>